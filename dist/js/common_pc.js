$(document).ready(function(){function e(){h.street_width=$(".street").eq(0).width(),$(".street").eq(1).css("left",h.street_width),$(".street_all").css("margin-left",h.street_width*-1),h.loading_num+=1,_()}function t(){h.loading_num>=2&&(h.tip_box_stage_play=!0,h.iknow_timeout=setTimeout(function(){b(!1)},5300),h.loading.fadeOut(300,function(){h.loading.remove(),h.loading_stage=!1}))}function n(){function e(e){"image"==e.item.type&&(images[e.item.id]=e.result)}function t(e){var t=e.target;ss.loading_pc_atlas_=t.getResult("loading_pc_atlas_"),_=new lib2.loading_pc,h.loading_stage=new createjs.Stage(n),h.loading_stage.addChild(_),h.loading_stage.update(),createjs.Ticker.setFPS(30),createjs.Ticker.addEventListener("tick",p)}var n,_;n=document.getElementById("loading"),images=images||{},ss=ss||{};var o=new createjs.LoadQueue((!1));o.addEventListener("fileload",e),o.addEventListener("complete",t),o.loadFile({src:"images/loading_pc_atlas_.json",type:"spritesheet",id:"loading_pc_atlas_"},!0),o.loadManifest(lib2.properties.manifest)}function _(){function e(e){"image"==e.item.type&&(images[e.item.id]=e.result)}function t(e){var t=e.target;ss.tip_box_ani_atlas_=t.getResult("tip_box_ani_atlas_"),h.tip_box_stage=new createjs.Stage(document.getElementById("tip_box")),h.tip_box_stage.addChild(new lib4.tip_box_ani),h.tip_box_stage.update(),o()}images=images||{},ss=ss||{};var n=new createjs.LoadQueue((!1));n.addEventListener("fileload",e),n.addEventListener("complete",t),n.loadFile({src:"images/tip_box_ani_atlas_.json",type:"spritesheet",id:"tip_box_ani_atlas_"},!0),n.loadManifest(lib4.properties.manifest)}function o(){function e(e){"image"==e.item.type&&(images[e.item.id]=e.result)}function t(e){var t=e.target;ss.event04_atlas_=t.getResult("event04_atlas_"),h.event_popup_4_stage=new createjs.Stage(document.getElementById("event_popup_4_ani")),h.event_popup_4_ani=h.event_popup_4_stage.addChild(new lib3.event04_1),h.event_popup_4_ani.setTransform(375,667).gotoAndStop(0),h.event_popup_4_stage.update(),a()}var n;n=document.getElementById("loading"),images=images||{},ss=ss||{};var _=new createjs.LoadQueue((!1));_.addEventListener("fileload",e),_.addEventListener("complete",t),_.loadFile({src:"images/event04_atlas_.json",type:"spritesheet",id:"event04_atlas_"},!0),_.loadManifest(lib3.properties.manifest)}function a(){function e(e){"image"==e.item.type&&(images[e.item.id]=e.result)}function n(e){var n=e.target;ss.event_popup_atlas_=n.getResult("event_popup_atlas_"),h.event_popup_2_stage=new createjs.Stage(document.getElementById("event_popup_2_ani")),h.event_popup_2_ani=h.event_popup_2_stage.addChild(new lib.event02),h.event_popup_2_ani.setTransform(375,667).gotoAndStop(0),h.event_popup_2_stage.update(),h.event_popup_3_stage=new createjs.Stage(document.getElementById("event_popup_3_ani")),h.event_popup_3_ani=h.event_popup_3_stage.addChild(new lib.event01),h.event_popup_3_ani.setTransform(45,180).gotoAndStop(0),h.event_popup_3_ani2=h.event_popup_3_stage.addChild(new lib.talk_box01),h.event_popup_3_ani2.setTransform(45,850).gotoAndStop(0),h.event_popup_3_stage.update(),h.loading_num+=1,t()}h.event_box_bg={images:["images/event_box_bg.png"],frames:{width:750,height:260},animations:{stand:0,show:{frames:[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7],speed:1},backshow:{frames:[7,14,6,13,5,12,4,11,3,10,2,9,1,8,0],speed:1}}},h.event_box_bg_spriteSheet=new createjs.SpriteSheet(h.event_box_bg),h.event_box_bg_canvas=document.getElementById("event_box_bg"),h.event_box_bg_stage=new createjs.Stage(h.event_box_bg_canvas),images=images||{},ss=ss||{};var _=new createjs.LoadQueue((!1));_.addEventListener("fileload",e),_.addEventListener("complete",n),_.loadFile({src:"images/event_popup_atlas_.json",type:"spritesheet",id:"event_popup_atlas_"},!0),_.loadManifest(lib.properties.manifest)}function s(){var e=$(this).index();0==e?$(".menubtn").trigger("click"):1==e&&($(".menubtn").trigger("click"),h.now_event=1,u(!0))}function p(){h.event_box_bg_stage_play&&h.event_box_bg_stage.update(),h.loading_stage&&h.loading_stage.update(),h.tip_box_stage_play&&h.tip_box_stage.update(),h.event_popup_2_stage_play&&h.event_popup_2_stage.update(),h.event_popup_3_stage_play&&h.event_popup_3_stage.update(),h.event_popup_4_stage_play&&(h.event_popup_4_stage.update(),h.event_popup_4_ani.currentFrame==h.event_popup_4_ani.totalFrames-1&&i())}function i(){$(".event4 .btn_box").fadeIn()}function d(){$(".sound_btn").hasClass("off")?($("#bgm")[0].play(),$(".sound_btn").removeClass("off")):($("#bgm")[0].pause(),$(".sound_btn").addClass("off"))}function l(e){e?($(".event_popup_1_videobtn").fadeOut(),$("#event_popup_1_video")[0].play(),$("#bgm")[0].pause(),$(".sound_btn").addClass("off")):($(".event_popup_1_videobtn").fadeIn(),$("#event_popup_1_video")[0].pause())}function u(e){function t(){$(".event_popup .popup").eq(h.now_event-1).addClass("on"),r(!0)}function n(){$(".event_popup .popup").hide(),h.street_ctrl=!0}e?(h.street_ctrl=!1,h.has_auto_play_pop.push(h.now_event),$(".event_popup .popup").eq(h.now_event-1).show(),5==h.now_event?$(".event_popup .closebtn").addClass("on"):$(".event_popup .closebtn").removeClass("on"),$(".event_popup").fadeIn(300,t)):(r(!1),$(".event_popup").fadeOut(300,n))}function r(e){e?3==h.now_event?(h.event_popup_2_stage_play=!0,h.event_popup_2_ani.gotoAndPlay(1)):2==h.now_event?(h.event_popup_3_stage_play=!0,h.event_popup_3_ani.gotoAndPlay(1),h.event_popup_3_ani2.gotoAndPlay(1)):4==h.now_event&&(h.event_popup_4_stage_play=!0,h.event_popup_4_ani.gotoAndPlay(1)):2==h.now_event?(h.event_popup_2_ani.stop(),h.event_popup_2_stage_play=!1):1==h.now_event?l(!1):3==h.now_event?(h.event_popup_3_ani.stop(),h.event_popup_3_ani2.stop(),h.event_popup_3_stage_play=!1):4==h.now_event&&(h.event_popup_4_ani.stop(),$(".event4 .btn_box").hide(),h.event_popup_4_stage_play=!1)}function g(){clearTimeout(h.event_box_timeout),h.now_event=$(this).index()+1,u(!0)}function v(e,t){if(h.iknow_click)if(e){if(h.now_event==t)return;if(h.now_event=t,!h.event_box_bg_stage)return;h.event_box_bg_stage.removeAllChildren(),h.event_box_bg_stage_play=!0,h.event_box_bg_mc=h.event_box_bg_stage.addChild(new createjs.Sprite(h.event_box_bg_spriteSheet,"show")),h.event_box_bg_mc.addEventListener("animationend",c),$(".event_box").addClass("on"),$(".event_box").find("span").removeClass("on").eq(t).addClass("on"),$(".event_line").find(".icon").removeClass("on").eq(t-1).addClass("on"),h.event_box_timeout=setTimeout(function(){for(var e=!1,t=0;t<h.has_auto_play_pop.length;t++)h.now_event==h.has_auto_play_pop[t]&&(e=!0);e||u(!0)},4e3)}else{if(0==h.now_event)return;h.now_event=0,clearTimeout(h.event_box_timeout),h.event_box_bg_stage.removeAllChildren(),h.event_box_bg_stage_play=!0,h.event_box_bg_mc=h.event_box_bg_stage.addChild(new createjs.Sprite(h.event_box_bg_spriteSheet,"backshow")),h.event_box_bg_mc.addEventListener("animationend",c),$(".event_box").removeClass("on"),$(".event_box").find("span").removeClass("on"),$(".event_line").find(".icon").removeClass("on")}}function c(){h.event_box_bg_mc.stop(),h.event_box_bg_stage_play=!1}function m(){function e(e){o=e.pageX-_,h.org_street=t-o/$(window).width()*60,h.org_street<0?h.org_street=h.org_street+360:h.org_street>360&&(h.org_street=h.org_street-360),w()}var t,n=$(this),_=0,o=0;n.bind("mousemove",e)}function b(e){e&&d(),clearTimeout(h.iknow_timeout),h.tip_box_stage_play=!1,h.iknow_click=!0,$(".tip_box").fadeOut()}function f(){$(this).hasClass("on")?($(".menuDom").removeClass("on"),$(".menu").addClass("off").removeClass("on"),h.menu_timeout=setTimeout(function(){h.street_ctrl=!0,$(".menu").removeClass("off")},1e3)):(h.street_ctrl=!1,$(".menuDom").addClass("on"),clearTimeout(h.menu_timeout),clearTimeout(h.event_box_timeout),$(".menu").removeClass("off").addClass("on"))}function w(){h.street_width=$(".street").eq(0).width(),$(".street").eq(1).css("left",h.street_width),$(".street_all").css("margin-left",h.street_width*-1),h.street_deg=h.street_alpha-h.org_street,h.street_deg>=-62&&h.street_deg<=-42?v(!0,1):h.street_deg>=-120&&h.street_deg<=-100?v(!0,2):h.street_deg>=-180&&h.street_deg<=-170?v(!0,3):h.street_deg>=170&&h.street_deg<=180?v(!0,3):h.street_deg>=-218&&h.street_deg<=-198?v(!0,4):h.street_deg>=140&&h.street_deg<=160?v(!0,4):h.street_deg>=-297&&h.street_deg<=-277?v(!0,5):h.street_deg>=60&&h.street_deg<=80?v(!0,5):v(!1),h.dis=Math.floor(h.street_width/360*h.street_deg+$(window).width()),$(".street_all").css("left",h.dis)}var h={wrp:$(".wrapper"),loading:$(".loading"),dis:0,dis_tmp:0,loading_num:0,menu_timeout:"",event_box_timeout:"",iknow_timeout:"",iknow_click:!1,event_box_bg_stage_play:!1,org_street:179,street_alpha:0,street_ctrl:!0,street_deg:0,now_event:0,tip_box_stage_play:!1,event_popup_2_stage_play:!1,event_popup_3_stage_play:!1,event_popup_4_stage_play:!1,has_auto_play_pop:[]};$(".street").clone().appendTo(".street_all_in"),n(),$(".menu_link").on("click",s),$(".gotobuy_btn").click(function(){}),$(".getsecret_btn").click(function(){}),$(".share_btn").click(function(){r(!1),$(".event_popup .popup").hide(),h.now_event=5,$(".event_popup .popup").eq(h.now_event-1).fadeIn(300,function(){$(".event_popup .popup").eq(h.now_event-1).addClass("on"),r(!0)})}),$(".unlock_btn").click(function(){}),$(".more_msg_btn").click(function(){}),$(".sound_btn").click(d),$(".event_point").click(g),$(".event_popup .closebtn").click(function(){u(!1)}),$(".event_popup_1_videobtn").click(l),$(".street_all").each(m),$(".iknow_btn").on("click",b),$(".menubtn").click(f),$(window).load(e)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbl9wYy5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsIndpbmRvd19sb2FkIiwibyIsInN0cmVldF93aWR0aCIsImVxIiwid2lkdGgiLCJjc3MiLCJsb2FkaW5nX251bSIsImNyZWF0anNfdGlwX2JveCIsImNoZWNrX2xvYWRpbmciLCJ0aXBfYm94X3N0YWdlX3BsYXkiLCJpa25vd190aW1lb3V0Iiwic2V0VGltZW91dCIsImlrbm93X2NsaWNrIiwibG9hZGluZyIsImZhZGVPdXQiLCJyZW1vdmUiLCJsb2FkaW5nX3N0YWdlIiwiY3JlYXRqc19sb2FkaW5nIiwiaGFuZGxlRmlsZUxvYWQiLCJldnQiLCJpdGVtIiwidHlwZSIsImltYWdlcyIsImlkIiwicmVzdWx0IiwiaGFuZGxlQ29tcGxldGUiLCJxdWV1ZSIsInRhcmdldCIsInNzIiwiZ2V0UmVzdWx0IiwiZXhwb3J0Um9vdCIsImxpYjIiLCJsb2FkaW5nX3BjIiwiY3JlYXRlanMiLCJTdGFnZSIsImNhbnZhcyIsImFkZENoaWxkIiwidXBkYXRlIiwiVGlja2VyIiwic2V0RlBTIiwiYWRkRXZlbnRMaXN0ZW5lciIsIlN0YWdlTGlzdGVudGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJsb2FkZXIiLCJMb2FkUXVldWUiLCJsb2FkRmlsZSIsInNyYyIsImxvYWRNYW5pZmVzdCIsInByb3BlcnRpZXMiLCJtYW5pZmVzdCIsInRpcF9ib3hfc3RhZ2UiLCJsaWI0IiwidGlwX2JveF9hbmkiLCJjcmVhdGVqc19ldmVudDA0IiwiZXZlbnRfcG9wdXBfNF9zdGFnZSIsImV2ZW50X3BvcHVwXzRfYW5pIiwibGliMyIsImV2ZW50MDRfMSIsInNldFRyYW5zZm9ybSIsImdvdG9BbmRTdG9wIiwiY3JlYXRqc19zdGFydCIsImV2ZW50X3BvcHVwXzJfc3RhZ2UiLCJldmVudF9wb3B1cF8yX2FuaSIsImxpYiIsImV2ZW50MDIiLCJldmVudF9wb3B1cF8zX3N0YWdlIiwiZXZlbnRfcG9wdXBfM19hbmkiLCJldmVudDAxIiwiZXZlbnRfcG9wdXBfM19hbmkyIiwidGFsa19ib3gwMSIsImV2ZW50X2JveF9iZyIsImZyYW1lcyIsImhlaWdodCIsImFuaW1hdGlvbnMiLCJzdGFuZCIsInNob3ciLCJzcGVlZCIsImJhY2tzaG93IiwiZXZlbnRfYm94X2JnX3Nwcml0ZVNoZWV0IiwiU3ByaXRlU2hlZXQiLCJldmVudF9ib3hfYmdfY2FudmFzIiwiZXZlbnRfYm94X2JnX3N0YWdlIiwibWVudV9saW5rX2NsaWNrIiwiX2luZGV4IiwidGhpcyIsImluZGV4IiwidHJpZ2dlciIsIm5vd19ldmVudCIsInNob3dfcG9wIiwiZXZlbnRfYm94X2JnX3N0YWdlX3BsYXkiLCJldmVudF9wb3B1cF8yX3N0YWdlX3BsYXkiLCJldmVudF9wb3B1cF8zX3N0YWdlX3BsYXkiLCJldmVudF9wb3B1cF80X3N0YWdlX3BsYXkiLCJjdXJyZW50RnJhbWUiLCJ0b3RhbEZyYW1lcyIsImV2ZW50X3BvcHVwXzRfYW5pX2NvbXBsZXRlIiwiZmFkZUluIiwic291bmRfYnRuX2NsaWNrIiwiaGFzQ2xhc3MiLCJwbGF5IiwicmVtb3ZlQ2xhc3MiLCJwYXVzZSIsImFkZENsYXNzIiwicGxheXZpZGVvIiwiX3QiLCJldmVudF9wb3B1cF9zdGFydCIsInBvcHVwX2FuaV9wbGF5IiwiZXZlbnRfcG9wdXBfZW5kIiwiaGlkZSIsInN0cmVldF9jdHJsIiwiaGFzX2F1dG9fcGxheV9wb3AiLCJwdXNoIiwiZ290b0FuZFBsYXkiLCJzdG9wIiwiZXZlbnRfcG9pbnRfY2xpY2siLCJjbGVhclRpbWVvdXQiLCJldmVudF9ib3hfdGltZW91dCIsInBsYXlfZXZlbnRfYm94IiwiX24iLCJyZW1vdmVBbGxDaGlsZHJlbiIsImV2ZW50X2JveF9iZ19tYyIsIlNwcml0ZSIsImV2ZW50X2JveF9iZ19jb21wbGV0ZSIsImZpbmQiLCJfaGFzIiwiaSIsImxlbmd0aCIsInN0cmVldF9hbGwiLCJfdG91Y2htb3ZlIiwiZSIsImRyYWdfbGVmdCIsInBhZ2VYIiwib2dfbGVmdCIsIm9yZ19zdHJlZXQiLCJ0bXBfb3JnX3N0cmVldCIsIndpbmRvdyIsInN0cmVldF9tb3ZlIiwiX3RoaXMiLCJiaW5kIiwibWVudWJ0bl9jbGljayIsIm1lbnVfdGltZW91dCIsInN0cmVldF9kZWciLCJzdHJlZXRfYWxwaGEiLCJkaXMiLCJNYXRoIiwiZmxvb3IiLCJ3cnAiLCJkaXNfdG1wIiwiY2xvbmUiLCJhcHBlbmRUbyIsIm9uIiwiY2xpY2siLCJlYWNoIiwibG9hZCJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUVDLFVBQVVDLE1BQU0sV0EyRGpCLFFBQVNDLEtBQ1JDLEVBQUVDLGFBQWVMLEVBQUUsV0FBV00sR0FBRyxHQUFHQyxRQUNwQ1AsRUFBRSxXQUFXTSxHQUFHLEdBQUdFLElBQUksT0FBT0osRUFBRUMsY0FDaENMLEVBQUUsZUFBZVEsSUFBSSxjQUFjSixFQUFFQyxpQkFDckNELEVBQUVLLGFBQWMsRUFDaEJDLElBRUQsUUFBU0MsS0FDTFAsRUFBRUssYUFBYyxJQUtqQkwsRUFBRVEsb0JBQXFCLEVBQ3ZCUixFQUFFUyxjQUFnQkMsV0FBVyxXQUFZQyxHQUFZLElBQVMsTUFDOURYLEVBQUVZLFFBQVFDLFFBQVEsSUFBSSxXQUFZYixFQUFFWSxRQUFRRSxTQUFVZCxFQUFFZSxlQUFnQixLQUkzRSxRQUFTQyxLQVlSLFFBQVNDLEdBQWVDLEdBQ0YsU0FBakJBLEVBQUlDLEtBQUtDLE9BQW1CQyxPQUFPSCxFQUFJQyxLQUFLRyxJQUFNSixFQUFJSyxRQUczRCxRQUFTQyxHQUFlTixHQUN2QixHQUFJTyxHQUFRUCxFQUFJUSxNQUNoQkMsSUFBc0Isa0JBQUlGLEVBQU1HLFVBQVUscUJBQzFDQyxFQUFhLEdBQUlDLE1BQUtDLFdBRXRCL0IsRUFBRWUsY0FBZ0IsR0FBSWlCLFVBQVNDLE1BQU1DLEdBQ3JDbEMsRUFBRWUsY0FBY29CLFNBQVNOLEdBQ3pCN0IsRUFBRWUsY0FBY3FCLFNBQ2hCSixTQUFTSyxPQUFPQyxPQUFPLElBQ3ZCTixTQUFTSyxPQUFPRSxpQkFBaUIsT0FBUUMsR0F4QjFD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QnJGLEVBQUUsZ0JBQWdCMEosTUFBTSxjQUd4QjFKLEVBQUUsa0JBQWtCMEosTUFBTSxjQUcxQjFKLEVBQUUsY0FBYzBKLE1BQU0sV0FDckI3QyxHQUFlLEdBQ2Y3RyxFQUFFLHVCQUF1QitHLE9BQ3pCM0csRUFBRXNGLFVBQVksRUFDZDFGLEVBQUUsdUJBQXVCTSxHQUFHRixFQUFFc0YsVUFBWSxHQUFHUyxPQUFPLElBQUksV0FDdkRuRyxFQUFFLHVCQUF1Qk0sR0FBR0YsRUFBRXNGLFVBQVksR0FBR2UsU0FBUyxNQUN0REksR0FBZSxPQUdqQjdHLEVBQUUsZUFBZTBKLE1BQU0sY0FHdkIxSixFQUFFLGlCQUFpQjBKLE1BQU0sY0FHekIxSixFQUFFLGNBQWMwSixNQUFNdEQsR0FDdEJwRyxFQUFFLGdCQUFnQjBKLE1BQU1yQyxHQUN4QnJILEVBQUUsMEJBQTBCMEosTUFBTSxXQUFZL0QsR0FBUyxLQUN2RDNGLEVBQUUsMkJBQTJCMEosTUFBT2hELEdBQ3BDMUcsRUFBRSxlQUFlMkosS0FBS3pCLEdBQ3RCbEksRUFBRSxjQUFjeUosR0FBRyxRQUFRMUksR0FDM0JmLEVBQUUsWUFBWTBKLE1BQU1aLEdBQ3BCOUksRUFBRTBJLFFBQVFrQixLQUFLekoiLCJmaWxlIjoiY29tbW9uX3BjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuXHQvL0luaXRcclxuXHR2YXIgbyA9e1xyXG5cdFx0d3JwOiAkKCcud3JhcHBlcicpLFxyXG5cdFx0bG9hZGluZzogJCgnLmxvYWRpbmcnKSxcclxuXHRcdGRpczogMCxcclxuXHRcdGRpc190bXA6MCxcclxuXHRcdGxvYWRpbmdfbnVtOiAwLFxyXG5cdFx0bWVudV90aW1lb3V0OicnLFxyXG5cdFx0ZXZlbnRfYm94X3RpbWVvdXQ6JycsXHJcblx0XHRpa25vd190aW1lb3V0OicnLFxyXG5cdFx0aWtub3dfY2xpY2s6ZmFsc2UsXHJcblx0XHRldmVudF9ib3hfYmdfc3RhZ2VfcGxheTogZmFsc2UsXHJcblx0XHRvcmdfc3RyZWV0OiAxNzksXHJcblx0XHRzdHJlZXRfYWxwaGE6IDAsXHJcblx0XHRzdHJlZXRfY3RybDogdHJ1ZSxcclxuXHRcdHN0cmVldF9kZWc6MCxcclxuXHRcdG5vd19ldmVudDowLFxyXG5cdFx0dGlwX2JveF9zdGFnZV9wbGF5OiBmYWxzZSxcclxuXHRcdGV2ZW50X3BvcHVwXzJfc3RhZ2VfcGxheTogZmFsc2UsXHJcblx0XHRldmVudF9wb3B1cF8zX3N0YWdlX3BsYXk6IGZhbHNlLFxyXG5cdFx0ZXZlbnRfcG9wdXBfNF9zdGFnZV9wbGF5OiBmYWxzZSxcclxuXHRcdGhhc19hdXRvX3BsYXlfcG9wOltdXHJcblx0fTtcclxuXHQkKCcuc3RyZWV0JykuY2xvbmUoKS5hcHBlbmRUbygnLnN0cmVldF9hbGxfaW4nKTtcclxuXHRjcmVhdGpzX2xvYWRpbmcoKTtcclxuXHRcclxuXHJcblx0Ly9BZGRMaXN0ZW5lclxyXG5cdCQoJy5tZW51X2xpbmsnKS5vbignY2xpY2snLG1lbnVfbGlua19jbGljayk7XHJcblx0JCgnLmdvdG9idXlfYnRuJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHJcblx0fSk7XHJcblx0JCgnLmdldHNlY3JldF9idG4nKS5jbGljayhmdW5jdGlvbigpe1xyXG5cclxuXHR9KTtcclxuXHQkKCcuc2hhcmVfYnRuJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdHBvcHVwX2FuaV9wbGF5KGZhbHNlKTtcclxuXHRcdCQoJy5ldmVudF9wb3B1cCAucG9wdXAnKS5oaWRlKCk7XHJcblx0XHRvLm5vd19ldmVudCA9IDU7XHJcblx0XHQkKCcuZXZlbnRfcG9wdXAgLnBvcHVwJykuZXEoby5ub3dfZXZlbnQgLSAxKS5mYWRlSW4oMzAwLGZ1bmN0aW9uKCl7XHJcblx0XHRcdCQoJy5ldmVudF9wb3B1cCAucG9wdXAnKS5lcShvLm5vd19ldmVudCAtIDEpLmFkZENsYXNzKCdvbicpOyBcclxuXHRcdFx0cG9wdXBfYW5pX3BsYXkodHJ1ZSk7XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHQkKCcudW5sb2NrX2J0bicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblxyXG5cdH0pO1xyXG5cdCQoJy5tb3JlX21zZ19idG4nKS5jbGljayhmdW5jdGlvbigpe1xyXG5cclxuXHR9KTtcclxuXHQkKCcuc291bmRfYnRuJykuY2xpY2soc291bmRfYnRuX2NsaWNrKTtcclxuXHQkKCcuZXZlbnRfcG9pbnQnKS5jbGljayhldmVudF9wb2ludF9jbGljayk7XHJcblx0JCgnLmV2ZW50X3BvcHVwIC5jbG9zZWJ0bicpLmNsaWNrKGZ1bmN0aW9uKCl7IHNob3dfcG9wKGZhbHNlKTsgfSlcclxuXHQkKCcuZXZlbnRfcG9wdXBfMV92aWRlb2J0bicpLmNsaWNrKCBwbGF5dmlkZW8gKTtcclxuXHQkKCcuc3RyZWV0X2FsbCcpLmVhY2goc3RyZWV0X2FsbCk7XHJcblx0JCgnLmlrbm93X2J0bicpLm9uKCdjbGljaycsaWtub3dfY2xpY2spO1xyXG5cdCQoJy5tZW51YnRuJykuY2xpY2sobWVudWJ0bl9jbGljayk7XHJcblx0JCh3aW5kb3cpLmxvYWQod2luZG93X2xvYWQpO1xyXG5cdGZ1bmN0aW9uIHdpbmRvd19sb2FkKCl7XHJcblx0XHRvLnN0cmVldF93aWR0aCA9ICQoJy5zdHJlZXQnKS5lcSgwKS53aWR0aCgpO1xyXG5cdFx0JCgnLnN0cmVldCcpLmVxKDEpLmNzcygnbGVmdCcsby5zdHJlZXRfd2lkdGgpO1xyXG5cdFx0JCgnLnN0cmVldF9hbGwnKS5jc3MoJ21hcmdpbi1sZWZ0JyxvLnN0cmVldF93aWR0aCotMSk7XHJcblx0XHRvLmxvYWRpbmdfbnVtICs9MTtcclxuXHRcdGNyZWF0anNfdGlwX2JveCgpO1xyXG5cdH1cclxuXHRmdW5jdGlvbiBjaGVja19sb2FkaW5nKCl7XHJcblx0XHRpZihvLmxvYWRpbmdfbnVtID49Mil7XHJcblx0XHRcdC8vIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHQvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlb3JpZW50YXRpb24nLCBmdW5jdGlvbihlKXtcclxuXHRcdFx0XHQvLyBcdHdpbmRvd19kZXZpY2VvcmllbnRhdGlvbihlKTtcclxuXHRcdFx0XHQvLyB9KTtcclxuXHRcdFx0XHRvLnRpcF9ib3hfc3RhZ2VfcGxheSA9IHRydWU7XHJcblx0XHRcdFx0by5pa25vd190aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpeyBpa25vd19jbGljayhmYWxzZSk7fSw1MzAwKTtcclxuXHRcdFx0XHRvLmxvYWRpbmcuZmFkZU91dCgzMDAsZnVuY3Rpb24oKXsgby5sb2FkaW5nLnJlbW92ZSgpOyBvLmxvYWRpbmdfc3RhZ2UgPSBmYWxzZTt9KTtcclxuXHRcdFx0Ly8gfSwyMDAwKTtcclxuXHRcdH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gY3JlYXRqc19sb2FkaW5nKCl7XHJcblx0XHR2YXIgY2FudmFzLCBleHBvcnRSb290O1xyXG5cdFx0Y2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2FkaW5nXCIpO1xyXG5cdFx0aW1hZ2VzID0gaW1hZ2VzfHx7fTtcclxuXHRcdHNzID0gc3N8fHt9O1xyXG5cclxuXHRcdHZhciBsb2FkZXIgPSBuZXcgY3JlYXRlanMuTG9hZFF1ZXVlKGZhbHNlKTtcclxuXHRcdGxvYWRlci5hZGRFdmVudExpc3RlbmVyKFwiZmlsZWxvYWRcIiwgaGFuZGxlRmlsZUxvYWQpO1xyXG5cdFx0bG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjb21wbGV0ZVwiLCBoYW5kbGVDb21wbGV0ZSk7XHJcblx0XHRsb2FkZXIubG9hZEZpbGUoe3NyYzpcImltYWdlcy9sb2FkaW5nX3BjX2F0bGFzXy5qc29uXCIsIHR5cGU6XCJzcHJpdGVzaGVldFwiLCBpZDpcImxvYWRpbmdfcGNfYXRsYXNfXCJ9LCB0cnVlKTtcclxuXHRcdGxvYWRlci5sb2FkTWFuaWZlc3QobGliMi5wcm9wZXJ0aWVzLm1hbmlmZXN0KTtcclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlRmlsZUxvYWQoZXZ0KSB7XHJcblx0XHRcdGlmIChldnQuaXRlbS50eXBlID09IFwiaW1hZ2VcIikgeyBpbWFnZXNbZXZ0Lml0ZW0uaWRdID0gZXZ0LnJlc3VsdDsgfVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGhhbmRsZUNvbXBsZXRlKGV2dCkge1xyXG5cdFx0XHR2YXIgcXVldWUgPSBldnQudGFyZ2V0O1xyXG5cdFx0XHRzc1tcImxvYWRpbmdfcGNfYXRsYXNfXCJdID0gcXVldWUuZ2V0UmVzdWx0KFwibG9hZGluZ19wY19hdGxhc19cIik7XHJcblx0XHRcdGV4cG9ydFJvb3QgPSBuZXcgbGliMi5sb2FkaW5nX3BjKCk7XHJcblxyXG5cdFx0XHRvLmxvYWRpbmdfc3RhZ2UgPSBuZXcgY3JlYXRlanMuU3RhZ2UoY2FudmFzKTtcclxuXHRcdFx0by5sb2FkaW5nX3N0YWdlLmFkZENoaWxkKGV4cG9ydFJvb3QpO1xyXG5cdFx0XHRvLmxvYWRpbmdfc3RhZ2UudXBkYXRlKCk7XHJcblx0XHRcdGNyZWF0ZWpzLlRpY2tlci5zZXRGUFMoMzApO1xyXG5cdFx0XHRjcmVhdGVqcy5UaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRpY2tcIiwgU3RhZ2VMaXN0ZW50ZXIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBjcmVhdGpzX3RpcF9ib3goKXtcclxuXHRcdGltYWdlcyA9IGltYWdlc3x8e307XHJcblx0XHRzcyA9IHNzfHx7fTtcclxuXHJcblx0XHR2YXIgbG9hZGVyID0gbmV3IGNyZWF0ZWpzLkxvYWRRdWV1ZShmYWxzZSk7XHJcblx0XHRsb2FkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImZpbGVsb2FkXCIsIGhhbmRsZUZpbGVMb2FkKTtcclxuXHRcdGxvYWRlci5hZGRFdmVudExpc3RlbmVyKFwiY29tcGxldGVcIiwgaGFuZGxlQ29tcGxldGUpO1xyXG5cdFx0bG9hZGVyLmxvYWRGaWxlKHtzcmM6XCJpbWFnZXMvdGlwX2JveF9hbmlfYXRsYXNfLmpzb25cIiwgdHlwZTpcInNwcml0ZXNoZWV0XCIsIGlkOlwidGlwX2JveF9hbmlfYXRsYXNfXCJ9LCB0cnVlKTtcclxuXHRcdGxvYWRlci5sb2FkTWFuaWZlc3QobGliNC5wcm9wZXJ0aWVzLm1hbmlmZXN0KTtcclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlRmlsZUxvYWQoZXZ0KSB7XHJcblx0XHRcdGlmIChldnQuaXRlbS50eXBlID09IFwiaW1hZ2VcIikgeyBpbWFnZXNbZXZ0Lml0ZW0uaWRdID0gZXZ0LnJlc3VsdDsgfVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGhhbmRsZUNvbXBsZXRlKGV2dCkge1xyXG5cdFx0XHR2YXIgcXVldWUgPSBldnQudGFyZ2V0O1xyXG5cdFx0XHRzc1tcInRpcF9ib3hfYW5pX2F0bGFzX1wiXSA9IHF1ZXVlLmdldFJlc3VsdChcInRpcF9ib3hfYW5pX2F0bGFzX1wiKTtcclxuXHRcdFx0by50aXBfYm94X3N0YWdlID0gbmV3IGNyZWF0ZWpzLlN0YWdlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGlwX2JveFwiKSk7XHJcblx0XHRcdG8udGlwX2JveF9zdGFnZS5hZGRDaGlsZChuZXcgbGliNC50aXBfYm94X2FuaSgpKTtcclxuXHRcdFx0by50aXBfYm94X3N0YWdlLnVwZGF0ZSgpO1xyXG5cdFx0XHRjcmVhdGVqc19ldmVudDA0KCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGNyZWF0ZWpzX2V2ZW50MDQoKXtcclxuXHRcdHZhciBjYW52YXMsIGV4cG9ydFJvb3Q7XHJcblx0XHRjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvYWRpbmdcIik7XHJcblx0XHRpbWFnZXMgPSBpbWFnZXN8fHt9O1xyXG5cdFx0c3MgPSBzc3x8e307XHJcblxyXG5cdFx0dmFyIGxvYWRlciA9IG5ldyBjcmVhdGVqcy5Mb2FkUXVldWUoZmFsc2UpO1xyXG5cdFx0bG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJmaWxlbG9hZFwiLCBoYW5kbGVGaWxlTG9hZCk7XHJcblx0XHRsb2FkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNvbXBsZXRlXCIsIGhhbmRsZUNvbXBsZXRlKTtcclxuXHRcdGxvYWRlci5sb2FkRmlsZSh7c3JjOlwiaW1hZ2VzL2V2ZW50MDRfYXRsYXNfLmpzb25cIiwgdHlwZTpcInNwcml0ZXNoZWV0XCIsIGlkOlwiZXZlbnQwNF9hdGxhc19cIn0sIHRydWUpO1xyXG5cdFx0bG9hZGVyLmxvYWRNYW5pZmVzdChsaWIzLnByb3BlcnRpZXMubWFuaWZlc3QpO1xyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBoYW5kbGVGaWxlTG9hZChldnQpIHtcclxuXHRcdFx0aWYgKGV2dC5pdGVtLnR5cGUgPT0gXCJpbWFnZVwiKSB7IGltYWdlc1tldnQuaXRlbS5pZF0gPSBldnQucmVzdWx0OyB9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlQ29tcGxldGUoZXZ0KSB7XHJcblx0XHRcdHZhciBxdWV1ZSA9IGV2dC50YXJnZXQ7XHJcblx0XHRcdHNzW1wiZXZlbnQwNF9hdGxhc19cIl0gPSBxdWV1ZS5nZXRSZXN1bHQoXCJldmVudDA0X2F0bGFzX1wiKTtcclxuXHJcblx0XHRcdG8uZXZlbnRfcG9wdXBfNF9zdGFnZSA9IG5ldyBjcmVhdGVqcy5TdGFnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV2ZW50X3BvcHVwXzRfYW5pXCIpKTtcclxuXHRcdFx0by5ldmVudF9wb3B1cF80X2FuaSA9IG8uZXZlbnRfcG9wdXBfNF9zdGFnZS5hZGRDaGlsZChuZXcgbGliMy5ldmVudDA0XzEoKSk7XHJcblx0XHRcdG8uZXZlbnRfcG9wdXBfNF9hbmkuc2V0VHJhbnNmb3JtKDM3NSw2NjcpLmdvdG9BbmRTdG9wKDApO1xyXG5cdFx0XHRvLmV2ZW50X3BvcHVwXzRfc3RhZ2UudXBkYXRlKCk7XHJcblxyXG5cdFx0XHRjcmVhdGpzX3N0YXJ0KCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGNyZWF0anNfc3RhcnQoKXtcclxuXHRcdC8vY3JlYXRlanNcclxuXHRcdG8uZXZlbnRfYm94X2JnID0ge1xyXG5cdFx0XHRpbWFnZXM6IFtcImltYWdlcy9ldmVudF9ib3hfYmcucG5nXCJdLFxyXG5cdFx0XHRmcmFtZXM6IHt3aWR0aDo3NTAsIGhlaWdodDoyNjB9LFxyXG5cdFx0XHRhbmltYXRpb25zOiB7XHJcblx0XHRcdFx0c3RhbmQ6MCxcclxuXHRcdFx0XHRzaG93OntcclxuXHRcdFx0XHRcdFx0ZnJhbWVzOiBbMCw4LDEsOSwyLDEwLDMsMTEsNCwxMiw1LDEzLDYsMTQsN10sXHJcblx0XHRcdFx0XHRcdHNwZWVkOiAxXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRiYWNrc2hvdzp7XHJcblx0XHRcdFx0XHRcdGZyYW1lczogWzcsMTQsNiwxMyw1LDEyLDQsMTEsMywxMCwyLDksMSw4LDBdLFxyXG5cdFx0XHRcdFx0XHRzcGVlZDogMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdG8uZXZlbnRfYm94X2JnX3Nwcml0ZVNoZWV0ID0gbmV3IGNyZWF0ZWpzLlNwcml0ZVNoZWV0KG8uZXZlbnRfYm94X2JnKTtcclxuXHRcdG8uZXZlbnRfYm94X2JnX2NhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXZlbnRfYm94X2JnXCIpO1xyXG5cdFx0by5ldmVudF9ib3hfYmdfc3RhZ2UgPSBuZXcgY3JlYXRlanMuU3RhZ2Uoby5ldmVudF9ib3hfYmdfY2FudmFzKTtcclxuXHJcblx0XHRpbWFnZXMgPSBpbWFnZXN8fHt9O1xyXG5cdFx0c3MgPSBzc3x8e307XHJcblxyXG5cdFx0dmFyIGxvYWRlciA9IG5ldyBjcmVhdGVqcy5Mb2FkUXVldWUoZmFsc2UpO1xyXG5cdFx0bG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJmaWxlbG9hZFwiLCBoYW5kbGVGaWxlTG9hZCk7XHJcblx0XHRsb2FkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNvbXBsZXRlXCIsIGhhbmRsZUNvbXBsZXRlKTtcclxuXHRcdGxvYWRlci5sb2FkRmlsZSh7c3JjOlwiaW1hZ2VzL2V2ZW50X3BvcHVwX2F0bGFzXy5qc29uXCIsIHR5cGU6XCJzcHJpdGVzaGVldFwiLCBpZDpcImV2ZW50X3BvcHVwX2F0bGFzX1wifSwgdHJ1ZSk7XHJcblx0XHRsb2FkZXIubG9hZE1hbmlmZXN0KGxpYi5wcm9wZXJ0aWVzLm1hbmlmZXN0KTtcclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlRmlsZUxvYWQoZXZ0KSB7XHJcblx0XHRcdGlmIChldnQuaXRlbS50eXBlID09IFwiaW1hZ2VcIikgeyBpbWFnZXNbZXZ0Lml0ZW0uaWRdID0gZXZ0LnJlc3VsdDsgfVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGhhbmRsZUNvbXBsZXRlKGV2dCkge1xyXG5cdFx0XHR2YXIgcXVldWUgPSBldnQudGFyZ2V0O1xyXG5cdFx0XHRzc1tcImV2ZW50X3BvcHVwX2F0bGFzX1wiXSA9IHF1ZXVlLmdldFJlc3VsdChcImV2ZW50X3BvcHVwX2F0bGFzX1wiKTtcclxuXHJcblx0XHRcdG8uZXZlbnRfcG9wdXBfMl9zdGFnZSA9IG5ldyBjcmVhdGVqcy5TdGFnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV2ZW50X3BvcHVwXzJfYW5pXCIpKTtcclxuXHRcdFx0by5ldmVudF9wb3B1cF8yX2FuaSA9IG8uZXZlbnRfcG9wdXBfMl9zdGFnZS5hZGRDaGlsZChuZXcgbGliLmV2ZW50MDIoKSk7XHJcblx0XHRcdG8uZXZlbnRfcG9wdXBfMl9hbmkuc2V0VHJhbnNmb3JtKDM3NSw2NjcpLmdvdG9BbmRTdG9wKDApO1xyXG5cdFx0XHRvLmV2ZW50X3BvcHVwXzJfc3RhZ2UudXBkYXRlKCk7XHJcblxyXG5cdFx0XHRvLmV2ZW50X3BvcHVwXzNfc3RhZ2UgPSBuZXcgY3JlYXRlanMuU3RhZ2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJldmVudF9wb3B1cF8zX2FuaVwiKSk7XHJcblx0XHRcdG8uZXZlbnRfcG9wdXBfM19hbmkgPSBvLmV2ZW50X3BvcHVwXzNfc3RhZ2UuYWRkQ2hpbGQobmV3IGxpYi5ldmVudDAxKCkpO1xyXG5cdFx0XHRvLmV2ZW50X3BvcHVwXzNfYW5pLnNldFRyYW5zZm9ybSg0NSwxODApLmdvdG9BbmRTdG9wKDApO1xyXG5cdFx0XHRvLmV2ZW50X3BvcHVwXzNfYW5pMiA9IG8uZXZlbnRfcG9wdXBfM19zdGFnZS5hZGRDaGlsZChuZXcgbGliLnRhbGtfYm94MDEoKSk7XHJcblx0XHRcdG8uZXZlbnRfcG9wdXBfM19hbmkyLnNldFRyYW5zZm9ybSg0NSw4NTApLmdvdG9BbmRTdG9wKDApO1xyXG5cdFx0XHRvLmV2ZW50X3BvcHVwXzNfc3RhZ2UudXBkYXRlKCk7XHJcblxyXG5cdFx0XHRvLmxvYWRpbmdfbnVtKz0xO1xyXG5cdFx0XHRjaGVja19sb2FkaW5nKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvL0V2ZW50XHJcblx0ZnVuY3Rpb24gbWVudV9saW5rX2NsaWNrKCl7XHJcblx0XHR2YXIgX2luZGV4ID0gJCh0aGlzKS5pbmRleCgpO1xyXG5cdFx0aWYoX2luZGV4ID09IDApICQoJy5tZW51YnRuJykudHJpZ2dlcignY2xpY2snKTtcclxuXHRcdGVsc2UgaWYoX2luZGV4ID09IDEpe1xyXG5cdFx0XHQkKCcubWVudWJ0bicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcblx0XHRcdG8ubm93X2V2ZW50ID0gMTtcclxuXHRcdFx0c2hvd19wb3AodHJ1ZSk7XHJcblx0XHR9XHJcblx0XHQvLyBlbHNlIGlmKF9pbmRleCA9PSAyKSB7fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBTdGFnZUxpc3RlbnRlcigpe1xyXG5cdFx0aWYoby5ldmVudF9ib3hfYmdfc3RhZ2VfcGxheSkgby5ldmVudF9ib3hfYmdfc3RhZ2UudXBkYXRlKCk7XHJcblx0XHRpZihvLmxvYWRpbmdfc3RhZ2UpIG8ubG9hZGluZ19zdGFnZS51cGRhdGUoKTtcclxuXHRcdGlmKG8udGlwX2JveF9zdGFnZV9wbGF5KSBvLnRpcF9ib3hfc3RhZ2UudXBkYXRlKCk7XHJcblxyXG5cdFx0aWYoby5ldmVudF9wb3B1cF8yX3N0YWdlX3BsYXkpIG8uZXZlbnRfcG9wdXBfMl9zdGFnZS51cGRhdGUoKTtcclxuXHRcdGlmKG8uZXZlbnRfcG9wdXBfM19zdGFnZV9wbGF5KSBvLmV2ZW50X3BvcHVwXzNfc3RhZ2UudXBkYXRlKCk7XHJcblx0XHRpZihvLmV2ZW50X3BvcHVwXzRfc3RhZ2VfcGxheSl7XHJcblx0XHRcdG8uZXZlbnRfcG9wdXBfNF9zdGFnZS51cGRhdGUoKTtcclxuXHRcdFx0Ly8gY29uc29sZS5sb2coJ28uZXZlbnRfcG9wdXBfNF9hbmkuY3VycmVudEZyYW1lOicrby5ldmVudF9wb3B1cF80X2FuaS5jdXJyZW50RnJhbWUrXCIvXCIrJ28uZXZlbnRfcG9wdXBfNF9hbmkudG90YWxGcmFtZXM6JytvLmV2ZW50X3BvcHVwXzRfYW5pLnRvdGFsRnJhbWVzKTtcclxuXHRcdFx0aWYoby5ldmVudF9wb3B1cF80X2FuaS5jdXJyZW50RnJhbWUgPT0gby5ldmVudF9wb3B1cF80X2FuaS50b3RhbEZyYW1lcyAtIDEpIGV2ZW50X3BvcHVwXzRfYW5pX2NvbXBsZXRlKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGV2ZW50X3BvcHVwXzRfYW5pX2NvbXBsZXRlKCl7XHJcblx0XHRcclxuXHRcdCQoJy5ldmVudDQgLmJ0bl9ib3gnKS5mYWRlSW4oKTtcclxuXHR9XHJcblx0ZnVuY3Rpb24gc291bmRfYnRuX2NsaWNrKCl7XHJcblx0XHRpZigkKCcuc291bmRfYnRuJykuaGFzQ2xhc3MoJ29mZicpKXtcclxuXHRcdFx0JCgnI2JnbScpWzBdLnBsYXkoKTtcclxuXHRcdFx0JCgnLnNvdW5kX2J0bicpLnJlbW92ZUNsYXNzKCdvZmYnKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHQkKCcjYmdtJylbMF0ucGF1c2UoKTtcclxuXHRcdFx0JCgnLnNvdW5kX2J0bicpLmFkZENsYXNzKCdvZmYnKTtcclxuXHRcdH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gcGxheXZpZGVvKF90KXtcclxuXHRcdGlmKF90KXtcclxuXHRcdFx0JCgnLmV2ZW50X3BvcHVwXzFfdmlkZW9idG4nKS5mYWRlT3V0KCk7XHJcblx0XHRcdCQoJyNldmVudF9wb3B1cF8xX3ZpZGVvJylbMF0ucGxheSgpO1xyXG5cdFx0XHQkKCcjYmdtJylbMF0ucGF1c2UoKTtcclxuXHRcdFx0JCgnLnNvdW5kX2J0bicpLmFkZENsYXNzKCdvZmYnKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHQkKCcuZXZlbnRfcG9wdXBfMV92aWRlb2J0bicpLmZhZGVJbigpO1xyXG5cdFx0XHQkKCcjZXZlbnRfcG9wdXBfMV92aWRlbycpWzBdLnBhdXNlKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGZ1bmN0aW9uIHNob3dfcG9wKF90KXtcclxuXHRcdGlmKF90KXtcclxuXHRcdFx0by5zdHJlZXRfY3RybCA9IGZhbHNlO1xyXG5cdFx0XHRvLmhhc19hdXRvX3BsYXlfcG9wLnB1c2goIG8ubm93X2V2ZW50ICk7XHJcblx0XHRcdCQoJy5ldmVudF9wb3B1cCAucG9wdXAnKS5lcShvLm5vd19ldmVudCAtIDEpLnNob3coKTtcclxuXHRcdFx0aWYoby5ub3dfZXZlbnQgPT0gNSkgJCgnLmV2ZW50X3BvcHVwIC5jbG9zZWJ0bicpLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0XHRlbHNlICQoJy5ldmVudF9wb3B1cCAuY2xvc2VidG4nKS5yZW1vdmVDbGFzcygnb24nKTtcclxuXHRcdFx0JCgnLmV2ZW50X3BvcHVwJykuZmFkZUluKDMwMCxldmVudF9wb3B1cF9zdGFydCk7XHJcblx0XHRcdGZ1bmN0aW9uIGV2ZW50X3BvcHVwX3N0YXJ0KCl7IFxyXG5cdFx0XHRcdCQoJy5ldmVudF9wb3B1cCAucG9wdXAnKS5lcShvLm5vd19ldmVudCAtIDEpLmFkZENsYXNzKCdvbicpOyBcclxuXHRcdFx0XHRwb3B1cF9hbmlfcGxheSh0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHBvcHVwX2FuaV9wbGF5KGZhbHNlKTtcclxuXHRcdFx0JCgnLmV2ZW50X3BvcHVwJykuZmFkZU91dCgzMDAsZXZlbnRfcG9wdXBfZW5kKTtcclxuXHRcdFx0ZnVuY3Rpb24gZXZlbnRfcG9wdXBfZW5kKCl7XHJcblx0XHRcdFx0JCgnLmV2ZW50X3BvcHVwIC5wb3B1cCcpLmhpZGUoKTtcclxuXHRcdFx0XHRvLnN0cmVldF9jdHJsID0gdHJ1ZTsgXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gcG9wdXBfYW5pX3BsYXkoX3Qpe1xyXG5cdFx0aWYoX3Qpe1xyXG5cdFx0XHRpZihvLm5vd19ldmVudCA9PSAzKXtcclxuXHRcdFx0XHRvLmV2ZW50X3BvcHVwXzJfc3RhZ2VfcGxheSA9IHRydWU7XHJcblx0XHRcdFx0by5ldmVudF9wb3B1cF8yX2FuaS5nb3RvQW5kUGxheSgxKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmKG8ubm93X2V2ZW50ID09IDIpe1xyXG5cdFx0XHRcdG8uZXZlbnRfcG9wdXBfM19zdGFnZV9wbGF5ID0gdHJ1ZTtcclxuXHRcdFx0XHRvLmV2ZW50X3BvcHVwXzNfYW5pLmdvdG9BbmRQbGF5KDEpO1xyXG5cdFx0XHRcdG8uZXZlbnRfcG9wdXBfM19hbmkyLmdvdG9BbmRQbGF5KDEpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgaWYoby5ub3dfZXZlbnQgPT0gNCl7XHJcblx0XHRcdFx0by5ldmVudF9wb3B1cF80X3N0YWdlX3BsYXkgPSB0cnVlO1xyXG5cdFx0XHRcdG8uZXZlbnRfcG9wdXBfNF9hbmkuZ290b0FuZFBsYXkoMSk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0aWYoby5ub3dfZXZlbnQgPT0gMil7XHJcblx0XHRcdFx0by5ldmVudF9wb3B1cF8yX2FuaS5zdG9wKCk7XHJcblx0XHRcdFx0by5ldmVudF9wb3B1cF8yX3N0YWdlX3BsYXkgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmKG8ubm93X2V2ZW50ID09IDEpe1xyXG5cdFx0XHRcdHBsYXl2aWRlbyhmYWxzZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZihvLm5vd19ldmVudCA9PSAzKXtcclxuXHRcdFx0XHRvLmV2ZW50X3BvcHVwXzNfYW5pLnN0b3AoKTtcclxuXHRcdFx0XHRvLmV2ZW50X3BvcHVwXzNfYW5pMi5zdG9wKCk7XHJcblx0XHRcdFx0by5ldmVudF9wb3B1cF8zX3N0YWdlX3BsYXkgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmKG8ubm93X2V2ZW50ID09IDQpe1xyXG5cdFx0XHRcdG8uZXZlbnRfcG9wdXBfNF9hbmkuc3RvcCgpO1xyXG5cdFx0XHRcdCQoJy5ldmVudDQgLmJ0bl9ib3gnKS5oaWRlKCk7XHJcblx0XHRcdFx0by5ldmVudF9wb3B1cF80X3N0YWdlX3BsYXkgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBldmVudF9wb2ludF9jbGljaygpe1xyXG5cdFx0Y2xlYXJUaW1lb3V0KG8uZXZlbnRfYm94X3RpbWVvdXQpO1xyXG5cdFx0by5ub3dfZXZlbnQgPSAkKHRoaXMpLmluZGV4KCkgKyAxO1xyXG5cdFx0c2hvd19wb3AodHJ1ZSk7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIHBsYXlfZXZlbnRfYm94KF90LF9uKXtcclxuXHRcdGlmKCFvLmlrbm93X2NsaWNrKSByZXR1cm47XHJcblx0XHRpZihfdCl7XHJcblx0XHRcdGlmKG8ubm93X2V2ZW50ID09IF9uKSByZXR1cm47XHJcblx0XHRcdGVsc2Ugby5ub3dfZXZlbnQgPSBfbjtcclxuXHRcdFx0aWYoIW8uZXZlbnRfYm94X2JnX3N0YWdlKSByZXR1cm47XHJcblx0XHRcdG8uZXZlbnRfYm94X2JnX3N0YWdlLnJlbW92ZUFsbENoaWxkcmVuKCk7XHJcblx0XHRcdG8uZXZlbnRfYm94X2JnX3N0YWdlX3BsYXkgPSB0cnVlO1xyXG5cdFx0XHRvLmV2ZW50X2JveF9iZ19tYyA9IG8uZXZlbnRfYm94X2JnX3N0YWdlLmFkZENoaWxkKG5ldyBjcmVhdGVqcy5TcHJpdGUoby5ldmVudF9ib3hfYmdfc3ByaXRlU2hlZXQsIFwic2hvd1wiKSk7XHJcblx0XHRcdG8uZXZlbnRfYm94X2JnX21jLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgZXZlbnRfYm94X2JnX2NvbXBsZXRlKTtcclxuXHRcdFx0JCgnLmV2ZW50X2JveCcpLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0XHQkKCcuZXZlbnRfYm94JykuZmluZCgnc3BhbicpLnJlbW92ZUNsYXNzKCdvbicpLmVxKF9uKS5hZGRDbGFzcygnb24nKTtcclxuXHRcdFx0JCgnLmV2ZW50X2xpbmUnKS5maW5kKCcuaWNvbicpLnJlbW92ZUNsYXNzKCdvbicpLmVxKCBfbiAtIDEpLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0XHRvLmV2ZW50X2JveF90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpeyBcclxuXHRcdFx0XHR2YXIgX2hhcyA9IGZhbHNlO1xyXG5cdFx0XHRcdGZvcih2YXIgaSA9IDAgOyBpPG8uaGFzX2F1dG9fcGxheV9wb3AubGVuZ3RoOyBpKyspe1xyXG5cdFx0XHRcdFx0aWYoby5ub3dfZXZlbnQgPT0gby5oYXNfYXV0b19wbGF5X3BvcFtpXSkgX2hhcyA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmKCFfaGFzKXtcclxuXHRcdFx0XHRcdHNob3dfcG9wKHRydWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSw0MDAwKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRpZihvLm5vd19ldmVudCA9PSAwKSByZXR1cm47XHJcblx0XHRcdGVsc2Ugby5ub3dfZXZlbnQgPSAwO1xyXG5cdFx0XHRjbGVhclRpbWVvdXQoby5ldmVudF9ib3hfdGltZW91dCk7XHJcblx0XHRcdG8uZXZlbnRfYm94X2JnX3N0YWdlLnJlbW92ZUFsbENoaWxkcmVuKCk7XHJcblx0XHRcdG8uZXZlbnRfYm94X2JnX3N0YWdlX3BsYXkgPSB0cnVlO1xyXG5cdFx0XHRvLmV2ZW50X2JveF9iZ19tYyA9IG8uZXZlbnRfYm94X2JnX3N0YWdlLmFkZENoaWxkKG5ldyBjcmVhdGVqcy5TcHJpdGUoby5ldmVudF9ib3hfYmdfc3ByaXRlU2hlZXQsIFwiYmFja3Nob3dcIikpO1xyXG5cdFx0XHRvLmV2ZW50X2JveF9iZ19tYy5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsIGV2ZW50X2JveF9iZ19jb21wbGV0ZSk7XHJcblx0XHRcdCQoJy5ldmVudF9ib3gnKS5yZW1vdmVDbGFzcygnb24nKTtcclxuXHRcdFx0JCgnLmV2ZW50X2JveCcpLmZpbmQoJ3NwYW4nKS5yZW1vdmVDbGFzcygnb24nKTtcclxuXHRcdFx0JCgnLmV2ZW50X2xpbmUnKS5maW5kKCcuaWNvbicpLnJlbW92ZUNsYXNzKCdvbicpXHJcblx0XHR9XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGV2ZW50X2JveF9iZ19jb21wbGV0ZSgpe1xyXG5cdFx0by5ldmVudF9ib3hfYmdfbWMuc3RvcCgpO1xyXG5cdFx0by5ldmVudF9ib3hfYmdfc3RhZ2VfcGxheSA9IGZhbHNlO1xyXG5cdH1cclxuXHRmdW5jdGlvbiBzdHJlZXRfYWxsKCl7XHJcblx0XHR2YXIgX3RoaXMgPSAkKHRoaXMpLFxyXG5cdFx0XHRvZ19sZWZ0ID0gMCxcclxuXHRcdFx0ZHJhZ19sZWZ0ID0gMCxcclxuXHRcdFx0dG1wX29yZ19zdHJlZXQ7XHJcblxyXG5cdFx0X3RoaXMuYmluZCgnbW91c2Vtb3ZlJywgX3RvdWNobW92ZSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gX3RvdWNobW92ZShlKXtcclxuICAgICAgICAgICAgLy8gby5zdHJlZXRfYWxwaGFcclxuXHRcdFx0Ly8gX3RoaXMuYWRkQ2xhc3MoJ21vdmUnKTtcclxuICAgICAgICAgICAgZHJhZ19sZWZ0ID0gZS5wYWdlWCAtIG9nX2xlZnQ7XHJcblx0XHRcdG8ub3JnX3N0cmVldCA9IHRtcF9vcmdfc3RyZWV0IC0gZHJhZ19sZWZ0IC8gJCh3aW5kb3cpLndpZHRoKCkgKiA2MDtcclxuXHRcdFx0aWYoby5vcmdfc3RyZWV0IDwgMCkgby5vcmdfc3RyZWV0ID0gby5vcmdfc3RyZWV0ICsgMzYwO1xyXG5cdFx0XHRlbHNlIGlmKG8ub3JnX3N0cmVldCA+IDM2MCkgby5vcmdfc3RyZWV0ID0gby5vcmdfc3RyZWV0IC0zNjA7XHJcblx0XHRcdHN0cmVldF9tb3ZlKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGlrbm93X2NsaWNrKF90KXtcclxuXHRcdGlmKF90KSBzb3VuZF9idG5fY2xpY2soKTtcclxuXHRcdGNsZWFyVGltZW91dChvLmlrbm93X3RpbWVvdXQpO1xyXG5cdFx0by50aXBfYm94X3N0YWdlX3BsYXkgPSBmYWxzZTsgXHJcblx0XHRvLmlrbm93X2NsaWNrID0gdHJ1ZTtcclxuXHRcdCQoJy50aXBfYm94JykuZmFkZU91dCgpO1xyXG5cdH1cclxuXHRmdW5jdGlvbiBtZW51YnRuX2NsaWNrKCl7XHJcblx0XHRpZigkKHRoaXMpLmhhc0NsYXNzKCdvbicpKXtcclxuXHRcdFx0JCgnLm1lbnVEb20nKS5yZW1vdmVDbGFzcygnb24nKTtcclxuXHRcdFx0JCgnLm1lbnUnKS5hZGRDbGFzcygnb2ZmJykucmVtb3ZlQ2xhc3MoJ29uJyk7XHJcblx0XHRcdG8ubWVudV90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRvLnN0cmVldF9jdHJsID0gdHJ1ZTtcclxuXHRcdFx0XHQkKCcubWVudScpLnJlbW92ZUNsYXNzKCdvZmYnKTtcclxuXHRcdFx0fSwgMTAwMCk7XHJcblx0XHR9XHJcblx0XHRlbHNle1xyXG5cdFx0XHRvLnN0cmVldF9jdHJsID0gZmFsc2U7XHJcblx0XHRcdCQoJy5tZW51RG9tJykuYWRkQ2xhc3MoJ29uJyk7XHJcblx0XHRcdGNsZWFyVGltZW91dChvLm1lbnVfdGltZW91dCk7XHJcblx0XHRcdGNsZWFyVGltZW91dChvLmV2ZW50X2JveF90aW1lb3V0KTtcclxuXHRcdFx0JCgnLm1lbnUnKS5yZW1vdmVDbGFzcygnb2ZmJykuYWRkQ2xhc3MoJ29uJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cdC8vIGZ1bmN0aW9uIHdpbmRvd19kZXZpY2VvcmllbnRhdGlvbihlKSB7XHJcblx0Ly8gXHQvLyBvLnN0cmVldF9hbHBoYSA9IE1hdGgucm91bmQoZS5hbHBoYSAvIDEwKSAqMTA7XHJcblx0Ly8gXHRvLnN0cmVldF9hbHBoYSA9IGUuYWxwaGE7XHJcblx0Ly8gXHRpZihvLnN0cmVldF9jdHJsKSBzdHJlZXRfbW92ZSgpO1xyXG5cdC8vIH1cclxuXHRmdW5jdGlvbiBzdHJlZXRfbW92ZSgpe1xyXG5cdFx0by5zdHJlZXRfd2lkdGggPSAkKCcuc3RyZWV0JykuZXEoMCkud2lkdGgoKTtcclxuXHRcdCQoJy5zdHJlZXQnKS5lcSgxKS5jc3MoJ2xlZnQnLG8uc3RyZWV0X3dpZHRoKTtcclxuXHRcdCQoJy5zdHJlZXRfYWxsJykuY3NzKCdtYXJnaW4tbGVmdCcsby5zdHJlZXRfd2lkdGgqLTEpO1xyXG5cdFx0Ly8gby5zdHJlZXRfZGVnID0gTWF0aC5mbG9vciggby5zdHJlZXRfYWxwaGEgLSBvLm9yZ19zdHJlZXQpO1xyXG5cdFx0by5zdHJlZXRfZGVnID0gby5zdHJlZXRfYWxwaGEgLSBvLm9yZ19zdHJlZXQ7XHJcblxyXG5cdFx0Ly8gaWYoIG8uc3RyZWV0X2N0cmwgKXtcclxuXHRcdFx0aWYoby5zdHJlZXRfZGVnID49IC02MiAmJiBvLnN0cmVldF9kZWcgPD0gLTQyKSBwbGF5X2V2ZW50X2JveCh0cnVlLDEpO1xyXG5cdFx0XHRlbHNlIGlmKG8uc3RyZWV0X2RlZyA+PSAtMTIwICYmIG8uc3RyZWV0X2RlZyA8PSAtMTAwKSBwbGF5X2V2ZW50X2JveCh0cnVlLDIpO1xyXG5cdFx0XHRlbHNlIGlmKG8uc3RyZWV0X2RlZyA+PSAtMTgwICYmIG8uc3RyZWV0X2RlZyA8PSAtMTcwKSBwbGF5X2V2ZW50X2JveCh0cnVlLDMpO1xyXG5cdFx0XHRlbHNlIGlmKG8uc3RyZWV0X2RlZyA+PSAxNzAgJiYgby5zdHJlZXRfZGVnIDw9IDE4MCkgcGxheV9ldmVudF9ib3godHJ1ZSwzKTtcclxuXHRcdFx0ZWxzZSBpZihvLnN0cmVldF9kZWcgPj0gLTIxOCAmJiBvLnN0cmVldF9kZWcgPD0gLTE5OCkgcGxheV9ldmVudF9ib3godHJ1ZSw0KTtcclxuXHRcdFx0ZWxzZSBpZihvLnN0cmVldF9kZWcgPj0gMTQwICYmIG8uc3RyZWV0X2RlZyA8PSAxNjApIHBsYXlfZXZlbnRfYm94KHRydWUsNCk7XHJcblx0XHRcdGVsc2UgaWYoby5zdHJlZXRfZGVnID49IC0yOTcgJiYgby5zdHJlZXRfZGVnIDw9IC0yNzcpIHBsYXlfZXZlbnRfYm94KHRydWUsNSk7XHJcblx0XHRcdGVsc2UgaWYoby5zdHJlZXRfZGVnID49IDYwICYmIG8uc3RyZWV0X2RlZyA8PSA4MCkgcGxheV9ldmVudF9ib3godHJ1ZSw1KTtcclxuXHRcdFx0ZWxzZSBwbGF5X2V2ZW50X2JveChmYWxzZSk7XHJcblx0XHQvLyB9XHJcblx0XHQvLyAkKCcucG9wJykuaHRtbChvLnN0cmVldF9kZWcpO1xyXG5cdFx0by5kaXMgPSBNYXRoLmZsb29yKG8uc3RyZWV0X3dpZHRoIC8gMzYwICogby5zdHJlZXRfZGVnICsgJCh3aW5kb3cpLndpZHRoKCkpO1xyXG5cdFx0JCgnLnN0cmVldF9hbGwnKS5jc3MoJ2xlZnQnLG8uZGlzKTtcclxuXHR9XHJcblx0XHJcbn0pLy9yZWFkeSBlbmQgIFxyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
